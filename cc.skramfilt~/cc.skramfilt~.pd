#N canvas 523 91 1072 835 10;
#X obj 260 382 outlet~;
#N canvas 825 281 740 504 \$0-biquad 0;
#X obj 56 23 inlet~ sig;
#X obj 56 104 *~;
#X obj 56 216 czero~;
#X obj 56 248 czero~;
#X obj 56 320 cpole~;
#X obj 56 362 cpole~;
#X obj 56 384 outlet~;
#X text 456 182 y[n] = b0*x[n] + b1*x[n-1] + b2*x[n-2];
#X text 499 199 - a1*y[n-1] - a2*y[n-2];
#X text 399 154 Difference Equation:;
#X text 408 260 z-Transform:;
#X text 457 287 H(z) = b0 + b1*z^-1 + b2*z^-2;
#X text 499 296 ----------------------;
#X text 503 307 1 + a1*z^-1 + a2*z^-2;
#N canvas 245 129 664 509 get_pole_locations 0;
#X obj 125 76 inlet~;
#X obj 324 76 inlet~;
#X obj 125 336 outlet~;
#X obj 170 313 outlet~;
#X obj 227 336 outlet~;
#X obj 272 313 outlet~;
#N canvas 516 138 715 527 pole1 0;
#X obj 78 86 inlet~;
#X obj 224 86 inlet~;
#X obj 78 350 outlet~;
#X obj 165 350 outlet~;
#X obj 136 290 sig~ 2;
#X text 324 183 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#X text 226 223 -b + ...;
#X obj 136 137 max~ 0;
#X obj 136 159 sqrt~;
#X obj 224 128 min~ 0;
#X obj 224 150 abs~;
#X obj 224 172 sqrt~;
#N canvas 0 22 450 300 complex_add~ 0;
#X obj 42 41 inlet~;
#X obj 122 41 inlet~;
#X obj 242 41 inlet~;
#X obj 322 41 inlet~;
#X obj 130 154 +~;
#X obj 250 154 +~;
#X obj 130 197 outlet~;
#X obj 250 197 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X restore 78 223 pd complex_add~;
#N canvas 0 22 596 441 complex_div~ 0;
#X obj 142 65 inlet~;
#X obj 193 65 inlet~;
#X obj 420 65 inlet~;
#X obj 469 65 inlet~;
#X obj 142 332 outlet~;
#X obj 390 332 outlet~;
#X obj 142 286 /~;
#X obj 390 286 /~;
#X obj 405 185 *~;
#X obj 454 195 *~;
#X obj 405 212 +~;
#X obj 142 185 *~;
#X obj 193 195 *~;
#X obj 142 212 +~;
#X obj 271 185 *~;
#X obj 316 195 *~;
#X obj 271 212 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 78 316 pd complex_div~;
#X connect 0 0 12 0;
#X connect 1 0 7 0;
#X connect 1 0 9 0;
#X connect 4 0 13 2;
#X connect 7 0 8 0;
#X connect 8 0 12 2;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 13 1 3 0;
#X restore 125 242 pd pole1;
#N canvas 392 46 701 467 pole2 0;
#X obj 78 86 inlet~;
#X obj 206 86 inlet~;
#X obj 78 380 outlet~;
#X obj 165 380 outlet~;
#X obj 136 321 sig~ 2;
#X text 310 185 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#X text 226 253 -b - ...;
#X obj 136 161 max~ 0;
#X obj 136 183 sqrt~;
#X obj 206 161 min~ 0;
#X obj 206 183 abs~;
#X obj 206 205 sqrt~;
#N canvas 0 22 450 300 complex_sub~ 0;
#X obj 42 41 inlet~;
#X obj 122 41 inlet~;
#X obj 242 41 inlet~;
#X obj 322 41 inlet~;
#X obj 130 197 outlet~;
#X obj 250 197 outlet~;
#X obj 130 154 -~;
#X obj 250 154 -~;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 0 6 1;
#X connect 3 0 7 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 78 253 pd complex_sub~;
#N canvas 0 22 596 441 complex_div~ 0;
#X obj 142 65 inlet~;
#X obj 193 65 inlet~;
#X obj 420 65 inlet~;
#X obj 469 65 inlet~;
#X obj 142 332 outlet~;
#X obj 390 332 outlet~;
#X obj 142 286 /~;
#X obj 390 286 /~;
#X obj 405 185 *~;
#X obj 454 195 *~;
#X obj 405 212 +~;
#X obj 142 185 *~;
#X obj 193 195 *~;
#X obj 142 212 +~;
#X obj 271 185 *~;
#X obj 316 195 *~;
#X obj 271 212 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 78 346 pd complex_div~;
#X connect 0 0 12 0;
#X connect 1 0 7 0;
#X connect 1 0 9 0;
#X connect 4 0 13 2;
#X connect 7 0 8 0;
#X connect 8 0 12 2;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 13 1 3 0;
#X restore 227 243 pd pole2;
#X obj 125 159 *~ 1;
#X text 395 225 ---------------------;
#X text 440 236 2a;
#X text 349 211 roots = -b +/- sqrt(b^2 - 4ac);
#X text 285 253 Note: since a0 is assumed to be 1 \, a in the quadratic
will always be 1;
#X text 344 160 < - because it should be -a1 and -a2;
#X obj 203 148 *~;
#X obj 324 98 *~ 4;
#X obj 203 170 +~;
#X connect 0 0 8 0;
#X connect 0 0 14 1;
#X connect 0 0 14 0;
#X connect 1 0 15 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 7 0 4 0;
#X connect 7 1 5 0;
#X connect 8 0 6 0;
#X connect 8 0 7 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 6 1;
#X connect 16 0 7 1;
#X restore 140 276 pd get_pole_locations;
#N canvas 0 22 668 429 get_zero_locations 0;
#X obj 125 76 inlet~;
#X obj 254 76 inlet~;
#N canvas 193 58 715 527 zero1 0;
#X obj 78 86 inlet~;
#X obj 214 86 inlet~;
#X obj 78 420 outlet~;
#X obj 165 420 outlet~;
#X obj 136 339 sig~ 2;
#X text 310 185 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#X text 226 273 -b + ...;
#X obj 136 166 max~ 0;
#X obj 136 188 sqrt~;
#X obj 214 152 min~ 0;
#X obj 214 174 abs~;
#X obj 214 196 sqrt~;
#N canvas 0 22 450 300 complex_add~ 0;
#X obj 42 41 inlet~;
#X obj 122 41 inlet~;
#X obj 242 41 inlet~;
#X obj 322 41 inlet~;
#X obj 130 154 +~;
#X obj 250 154 +~;
#X obj 130 197 outlet~;
#X obj 250 197 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X restore 78 273 pd complex_add~;
#N canvas 0 22 596 441 complex_div~ 0;
#X obj 142 65 inlet~;
#X obj 193 65 inlet~;
#X obj 420 65 inlet~;
#X obj 469 65 inlet~;
#X obj 142 332 outlet~;
#X obj 390 332 outlet~;
#X obj 142 286 /~;
#X obj 390 286 /~;
#X obj 405 185 *~;
#X obj 454 195 *~;
#X obj 405 212 +~;
#X obj 142 185 *~;
#X obj 193 195 *~;
#X obj 142 212 +~;
#X obj 271 185 *~;
#X obj 316 195 *~;
#X obj 271 212 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 78 366 pd complex_div~;
#X connect 0 0 12 0;
#X connect 1 0 7 0;
#X connect 1 0 9 0;
#X connect 4 0 13 2;
#X connect 7 0 8 0;
#X connect 8 0 12 2;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 13 1 3 0;
#X restore 125 242 pd zero1;
#N canvas 404 56 721 425 zero2 0;
#X obj 78 86 inlet~;
#X obj 223 86 inlet~;
#X obj 78 360 outlet~;
#X obj 165 360 outlet~;
#X obj 136 280 sig~ 2;
#X text 310 185 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#X text 226 213 -b - ...;
#X obj 136 136 max~ 0;
#X obj 136 158 sqrt~;
#X obj 223 125 min~ 0;
#X obj 223 147 abs~;
#X obj 223 169 sqrt~;
#N canvas 0 22 450 300 complex_sub~ 0;
#X obj 42 41 inlet~;
#X obj 122 41 inlet~;
#X obj 242 41 inlet~;
#X obj 322 41 inlet~;
#X obj 130 197 outlet~;
#X obj 250 197 outlet~;
#X obj 130 154 -~;
#X obj 250 154 -~;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 0 6 1;
#X connect 3 0 7 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 78 213 pd complex_sub~;
#N canvas 0 22 596 441 complex_div~ 0;
#X obj 142 65 inlet~;
#X obj 193 65 inlet~;
#X obj 420 65 inlet~;
#X obj 469 65 inlet~;
#X obj 142 332 outlet~;
#X obj 390 332 outlet~;
#X obj 142 286 /~;
#X obj 390 286 /~;
#X obj 405 185 *~;
#X obj 454 195 *~;
#X obj 405 212 +~;
#X obj 142 185 *~;
#X obj 193 195 *~;
#X obj 142 212 +~;
#X obj 271 185 *~;
#X obj 316 195 *~;
#X obj 271 212 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 78 312 pd complex_div~;
#X connect 0 0 12 0;
#X connect 1 0 7 0;
#X connect 1 0 9 0;
#X connect 4 0 13 2;
#X connect 7 0 8 0;
#X connect 8 0 12 2;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 13 1 3 0;
#X restore 227 243 pd zero2;
#X obj 125 336 outlet~;
#X obj 170 312 outlet~;
#X obj 227 336 outlet~;
#X obj 272 312 outlet~;
#X obj 125 159 *~ -1;
#X text 416 207 ---------------------;
#X text 461 218 2a;
#X text 370 193 roots = -b +/- sqrt(b^2 - 4ac);
#X text 305 244 Note: becase b0 is extracted from coefficents \, a
in the quadratic will always be 1;
#X obj 171 137 *~;
#X obj 171 159 -~;
#X obj 254 142 *~ 4;
#X connect 0 0 8 0;
#X connect 0 0 13 1;
#X connect 0 0 13 0;
#X connect 1 0 15 0;
#X connect 2 0 4 0;
#X connect 2 1 5 0;
#X connect 3 0 6 0;
#X connect 3 1 7 0;
#X connect 8 0 2 0;
#X connect 8 0 3 0;
#X connect 13 0 14 0;
#X connect 14 0 3 1;
#X connect 14 0 2 1;
#X connect 15 0 14 1;
#X restore 240 138 pd get_zero_locations;
#N canvas 0 22 450 300 extract_gain 0;
#X obj 92 74 inlet~;
#X obj 92 185 outlet~;
#X obj 212 74 inlet~;
#X obj 352 74 inlet~;
#X obj 212 185 outlet~;
#X obj 352 185 outlet~;
#X obj 212 141 /~;
#X obj 352 141 /~;
#X connect 0 0 6 1;
#X connect 0 0 7 1;
#X connect 0 0 1 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 276 87 pd extract_gain;
#X obj 276 23 r~ \$0-b0;
#X obj 350 23 r~ \$0-b1;
#X obj 420 23 r~ \$0-b2;
#X obj 140 23 r~ \$0-a1;
#X obj 210 23 r~ \$0-a2;
#X obj 508 65 switch~;
#X obj 508 23 r \$0-stage;
#X obj 508 44 >= 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 6 0;
#X connect 14 0 4 2;
#X connect 14 1 4 3;
#X connect 14 2 5 2;
#X connect 14 3 5 3;
#X connect 15 0 2 2;
#X connect 15 1 2 3;
#X connect 15 2 3 2;
#X connect 15 3 3 3;
#X connect 16 0 1 1;
#X connect 16 1 15 0;
#X connect 16 2 15 1;
#X connect 17 0 16 0;
#X connect 18 0 16 1;
#X connect 19 0 16 2;
#X connect 20 0 14 0;
#X connect 21 0 14 1;
#X connect 23 0 24 0;
#X connect 24 0 22 0;
#X restore 260 173 pd \$0-biquad;
#X obj 577 189 *~;
#X obj 712 283 lop~ 50;
#X obj 712 309 max~ 0.01;
#N canvas 266 165 592 479 \$0-coefficients 0;
#X text 93 210 norm;
#X text 93 178 k;
#X text 102 40 fc q gain;
#X obj 214 92 samplerate~;
#X obj 292 113 expr~ atan(1) * 4 \;;
#X obj 139 258 expr~ (2 * $v1 * ($v2 * $v2 - 1)) * -1;
#X text 376 257 b1;
#X obj 139 207 expr~ 1 / (1 + $v1 / $v2 + $v1 * $v1);
#X obj 452 113 max~ 0.01;
#X obj 195 288 expr~ ((1 - $v2 / $v3 + $v2 * $v2) * $v1) * -1;
#X text 479 288 b2;
#X obj 363 349 *~ -1;
#X obj 363 370 outlet~;
#X obj 307 349 sig~ 0;
#X obj 307 370 outlet~;
#X obj 251 370 outlet~;
#X obj 195 370 outlet~;
#X obj 139 370 outlet~;
#X text 459 318 a0;
#X obj 139 176 expr~ tan($v3 * $v1 / $v2);
#X obj 251 318 expr~ $v2 / max($v3 * $v1 \, 1e-006);
#X obj 139 92 inlet~;
#X obj 452 92 inlet~;
#X obj 214 71 r \$2-init;
#X obj 214 113 sig~ 44100;
#X connect 3 0 24 0;
#X connect 4 0 19 2;
#X connect 5 0 17 0;
#X connect 7 0 5 0;
#X connect 7 0 9 0;
#X connect 7 0 20 0;
#X connect 8 0 7 1;
#X connect 8 0 9 2;
#X connect 8 0 20 2;
#X connect 9 0 16 0;
#X connect 11 0 12 0;
#X connect 13 0 14 0;
#X connect 19 0 5 1;
#X connect 19 0 7 0;
#X connect 19 0 9 1;
#X connect 19 0 20 1;
#X connect 20 0 11 0;
#X connect 20 0 15 0;
#X connect 21 0 19 0;
#X connect 22 0 8 0;
#X connect 23 0 3 0;
#X connect 24 0 19 1;
#X restore 577 325 pd \$0-coefficients;
#X obj 260 214 expr~ tanh($v1);
#X obj 260 361 hip~ 20;
#X obj 628 386 s~ \$0-b0;
#X obj 655 406 s~ \$0-b1;
#X obj 682 426 s~ \$0-b2;
#X obj 577 346 s~ \$0-a1;
#X obj 604 366 s~ \$0-a2;
#X obj 292 152 *~;
#X obj 260 152 *~;
#X obj 260 235 +~;
#N canvas 825 281 740 504 \$0-biquad 0;
#X obj 56 23 inlet~ sig;
#X obj 56 104 *~;
#X obj 56 216 czero~;
#X obj 56 248 czero~;
#X obj 56 320 cpole~;
#X obj 56 362 cpole~;
#X obj 56 384 outlet~;
#X text 456 182 y[n] = b0*x[n] + b1*x[n-1] + b2*x[n-2];
#X text 499 199 - a1*y[n-1] - a2*y[n-2];
#X text 399 154 Difference Equation:;
#X text 408 260 z-Transform:;
#X text 457 287 H(z) = b0 + b1*z^-1 + b2*z^-2;
#X text 499 296 ----------------------;
#X text 503 307 1 + a1*z^-1 + a2*z^-2;
#N canvas 245 129 664 509 get_pole_locations 0;
#X obj 125 76 inlet~;
#X obj 324 76 inlet~;
#X obj 125 336 outlet~;
#X obj 170 313 outlet~;
#X obj 227 336 outlet~;
#X obj 272 313 outlet~;
#N canvas 516 138 715 527 pole1 0;
#X obj 78 86 inlet~;
#X obj 224 86 inlet~;
#X obj 78 350 outlet~;
#X obj 165 350 outlet~;
#X obj 136 290 sig~ 2;
#X text 324 183 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#X text 226 223 -b + ...;
#X obj 136 137 max~ 0;
#X obj 136 159 sqrt~;
#X obj 224 128 min~ 0;
#X obj 224 150 abs~;
#X obj 224 172 sqrt~;
#N canvas 0 22 450 300 complex_add~ 0;
#X obj 42 41 inlet~;
#X obj 122 41 inlet~;
#X obj 242 41 inlet~;
#X obj 322 41 inlet~;
#X obj 130 154 +~;
#X obj 250 154 +~;
#X obj 130 197 outlet~;
#X obj 250 197 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X restore 78 223 pd complex_add~;
#N canvas 0 22 596 441 complex_div~ 0;
#X obj 142 65 inlet~;
#X obj 193 65 inlet~;
#X obj 420 65 inlet~;
#X obj 469 65 inlet~;
#X obj 142 332 outlet~;
#X obj 390 332 outlet~;
#X obj 142 286 /~;
#X obj 390 286 /~;
#X obj 405 185 *~;
#X obj 454 195 *~;
#X obj 405 212 +~;
#X obj 142 185 *~;
#X obj 193 195 *~;
#X obj 142 212 +~;
#X obj 271 185 *~;
#X obj 316 195 *~;
#X obj 271 212 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 78 316 pd complex_div~;
#X connect 0 0 12 0;
#X connect 1 0 7 0;
#X connect 1 0 9 0;
#X connect 4 0 13 2;
#X connect 7 0 8 0;
#X connect 8 0 12 2;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 13 1 3 0;
#X restore 125 242 pd pole1;
#N canvas 392 46 701 467 pole2 0;
#X obj 78 86 inlet~;
#X obj 206 86 inlet~;
#X obj 78 380 outlet~;
#X obj 165 380 outlet~;
#X obj 136 321 sig~ 2;
#X text 310 185 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#X text 226 253 -b - ...;
#X obj 136 161 max~ 0;
#X obj 136 183 sqrt~;
#X obj 206 161 min~ 0;
#X obj 206 183 abs~;
#X obj 206 205 sqrt~;
#N canvas 0 22 450 300 complex_sub~ 0;
#X obj 42 41 inlet~;
#X obj 122 41 inlet~;
#X obj 242 41 inlet~;
#X obj 322 41 inlet~;
#X obj 130 197 outlet~;
#X obj 250 197 outlet~;
#X obj 130 154 -~;
#X obj 250 154 -~;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 0 6 1;
#X connect 3 0 7 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 78 253 pd complex_sub~;
#N canvas 0 22 596 441 complex_div~ 0;
#X obj 142 65 inlet~;
#X obj 193 65 inlet~;
#X obj 420 65 inlet~;
#X obj 469 65 inlet~;
#X obj 142 332 outlet~;
#X obj 390 332 outlet~;
#X obj 142 286 /~;
#X obj 390 286 /~;
#X obj 405 185 *~;
#X obj 454 195 *~;
#X obj 405 212 +~;
#X obj 142 185 *~;
#X obj 193 195 *~;
#X obj 142 212 +~;
#X obj 271 185 *~;
#X obj 316 195 *~;
#X obj 271 212 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 78 346 pd complex_div~;
#X connect 0 0 12 0;
#X connect 1 0 7 0;
#X connect 1 0 9 0;
#X connect 4 0 13 2;
#X connect 7 0 8 0;
#X connect 8 0 12 2;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 13 1 3 0;
#X restore 227 243 pd pole2;
#X obj 125 159 *~ 1;
#X text 395 225 ---------------------;
#X text 440 236 2a;
#X text 349 211 roots = -b +/- sqrt(b^2 - 4ac);
#X text 285 253 Note: since a0 is assumed to be 1 \, a in the quadratic
will always be 1;
#X text 344 160 < - because it should be -a1 and -a2;
#X obj 203 148 *~;
#X obj 324 98 *~ 4;
#X obj 203 170 +~;
#X connect 0 0 8 0;
#X connect 0 0 14 1;
#X connect 0 0 14 0;
#X connect 1 0 15 0;
#X connect 6 0 2 0;
#X connect 6 1 3 0;
#X connect 7 0 4 0;
#X connect 7 1 5 0;
#X connect 8 0 6 0;
#X connect 8 0 7 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 6 1;
#X connect 16 0 7 1;
#X restore 140 276 pd get_pole_locations;
#N canvas 0 22 668 429 get_zero_locations 0;
#X obj 125 76 inlet~;
#X obj 254 76 inlet~;
#N canvas 193 58 715 527 zero1 0;
#X obj 78 86 inlet~;
#X obj 214 86 inlet~;
#X obj 78 420 outlet~;
#X obj 165 420 outlet~;
#X obj 136 339 sig~ 2;
#X text 310 185 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#X text 226 273 -b + ...;
#X obj 136 166 max~ 0;
#X obj 136 188 sqrt~;
#X obj 214 152 min~ 0;
#X obj 214 174 abs~;
#X obj 214 196 sqrt~;
#N canvas 0 22 450 300 complex_add~ 0;
#X obj 42 41 inlet~;
#X obj 122 41 inlet~;
#X obj 242 41 inlet~;
#X obj 322 41 inlet~;
#X obj 130 154 +~;
#X obj 250 154 +~;
#X obj 130 197 outlet~;
#X obj 250 197 outlet~;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 4 1;
#X connect 3 0 5 1;
#X connect 4 0 6 0;
#X connect 5 0 7 0;
#X restore 78 273 pd complex_add~;
#N canvas 0 22 596 441 complex_div~ 0;
#X obj 142 65 inlet~;
#X obj 193 65 inlet~;
#X obj 420 65 inlet~;
#X obj 469 65 inlet~;
#X obj 142 332 outlet~;
#X obj 390 332 outlet~;
#X obj 142 286 /~;
#X obj 390 286 /~;
#X obj 405 185 *~;
#X obj 454 195 *~;
#X obj 405 212 +~;
#X obj 142 185 *~;
#X obj 193 195 *~;
#X obj 142 212 +~;
#X obj 271 185 *~;
#X obj 316 195 *~;
#X obj 271 212 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 78 366 pd complex_div~;
#X connect 0 0 12 0;
#X connect 1 0 7 0;
#X connect 1 0 9 0;
#X connect 4 0 13 2;
#X connect 7 0 8 0;
#X connect 8 0 12 2;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 13 1 3 0;
#X restore 125 242 pd zero1;
#N canvas 404 56 721 425 zero2 0;
#X obj 78 86 inlet~;
#X obj 223 86 inlet~;
#X obj 78 360 outlet~;
#X obj 165 360 outlet~;
#X obj 136 280 sig~ 2;
#X text 310 185 if sqrt(b^2-4ac) is less than 0 \, make it the imaginary
part of the numerator. Else \, add it to the real part (imaginary stays
zero).;
#X text 226 213 -b - ...;
#X obj 136 136 max~ 0;
#X obj 136 158 sqrt~;
#X obj 223 125 min~ 0;
#X obj 223 147 abs~;
#X obj 223 169 sqrt~;
#N canvas 0 22 450 300 complex_sub~ 0;
#X obj 42 41 inlet~;
#X obj 122 41 inlet~;
#X obj 242 41 inlet~;
#X obj 322 41 inlet~;
#X obj 130 197 outlet~;
#X obj 250 197 outlet~;
#X obj 130 154 -~;
#X obj 250 154 -~;
#X connect 0 0 6 0;
#X connect 1 0 7 0;
#X connect 2 0 6 1;
#X connect 3 0 7 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 78 213 pd complex_sub~;
#N canvas 0 22 596 441 complex_div~ 0;
#X obj 142 65 inlet~;
#X obj 193 65 inlet~;
#X obj 420 65 inlet~;
#X obj 469 65 inlet~;
#X obj 142 332 outlet~;
#X obj 390 332 outlet~;
#X obj 142 286 /~;
#X obj 390 286 /~;
#X obj 405 185 *~;
#X obj 454 195 *~;
#X obj 405 212 +~;
#X obj 142 185 *~;
#X obj 193 195 *~;
#X obj 142 212 +~;
#X obj 271 185 *~;
#X obj 316 195 *~;
#X obj 271 212 -~;
#X connect 0 0 11 0;
#X connect 0 0 15 0;
#X connect 1 0 12 0;
#X connect 1 0 14 0;
#X connect 2 0 8 0;
#X connect 2 0 8 1;
#X connect 2 0 11 1;
#X connect 2 0 14 1;
#X connect 3 0 9 0;
#X connect 3 0 9 1;
#X connect 3 0 12 1;
#X connect 3 0 15 1;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 7 1;
#X connect 10 0 6 1;
#X connect 11 0 13 0;
#X connect 12 0 13 1;
#X connect 13 0 6 0;
#X connect 14 0 16 0;
#X connect 15 0 16 1;
#X connect 16 0 7 0;
#X restore 78 312 pd complex_div~;
#X connect 0 0 12 0;
#X connect 1 0 7 0;
#X connect 1 0 9 0;
#X connect 4 0 13 2;
#X connect 7 0 8 0;
#X connect 8 0 12 2;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 3;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 2 0;
#X connect 13 1 3 0;
#X restore 227 243 pd zero2;
#X obj 125 336 outlet~;
#X obj 170 312 outlet~;
#X obj 227 336 outlet~;
#X obj 272 312 outlet~;
#X obj 125 159 *~ -1;
#X text 416 207 ---------------------;
#X text 461 218 2a;
#X text 370 193 roots = -b +/- sqrt(b^2 - 4ac);
#X text 305 244 Note: becase b0 is extracted from coefficents \, a
in the quadratic will always be 1;
#X obj 171 137 *~;
#X obj 171 159 -~;
#X obj 254 142 *~ 4;
#X connect 0 0 8 0;
#X connect 0 0 13 1;
#X connect 0 0 13 0;
#X connect 1 0 15 0;
#X connect 2 0 4 0;
#X connect 2 1 5 0;
#X connect 3 0 6 0;
#X connect 3 1 7 0;
#X connect 8 0 2 0;
#X connect 8 0 3 0;
#X connect 13 0 14 0;
#X connect 14 0 3 1;
#X connect 14 0 2 1;
#X connect 15 0 14 1;
#X restore 240 138 pd get_zero_locations;
#N canvas 0 22 450 300 extract_gain 0;
#X obj 92 74 inlet~;
#X obj 92 185 outlet~;
#X obj 212 74 inlet~;
#X obj 352 74 inlet~;
#X obj 212 185 outlet~;
#X obj 352 185 outlet~;
#X obj 212 141 /~;
#X obj 352 141 /~;
#X connect 0 0 6 1;
#X connect 0 0 7 1;
#X connect 0 0 1 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 6 0 4 0;
#X connect 7 0 5 0;
#X restore 276 87 pd extract_gain;
#X obj 276 23 r~ \$0-b0;
#X obj 350 23 r~ \$0-b1;
#X obj 420 23 r~ \$0-b2;
#X obj 140 23 r~ \$0-a1;
#X obj 210 23 r~ \$0-a2;
#X obj 508 65 switch~;
#X obj 508 23 r \$0-stage;
#X obj 508 44 >= 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 4 0 5 0;
#X connect 4 1 5 1;
#X connect 5 0 6 0;
#X connect 14 0 4 2;
#X connect 14 1 4 3;
#X connect 14 2 5 2;
#X connect 14 3 5 3;
#X connect 15 0 2 2;
#X connect 15 1 2 3;
#X connect 15 2 3 2;
#X connect 15 3 3 3;
#X connect 16 0 1 1;
#X connect 16 1 15 0;
#X connect 16 2 15 1;
#X connect 17 0 16 0;
#X connect 18 0 16 1;
#X connect 19 0 16 2;
#X connect 20 0 14 0;
#X connect 21 0 14 1;
#X connect 23 0 24 0;
#X connect 24 0 22 0;
#X restore 260 278 pd \$0-biquad;
#X obj 260 319 expr~ tanh($v1);
#X obj 292 257 *~;
#X obj 260 257 *~;
#X obj 260 340 +~;
#X obj 260 194 *~;
#X obj 260 299 *~;
#X obj 105 120 nbx 4 14 1e-037 1e+037 0 0 \$0-mult \$0-mult.in mult
42 8 0 8 -257985 -1 -1 4.05 256;
#X obj 105 159 nbx 4 15 0 16 0 0 \$0-drive \$0-drive.in drive 42 8
0 8 -257985 -1 -1 8 256;
#X obj 105 179 nbx 4 15 -1e+037 1e+037 0 0 \$0-inertia \$0-inertia.in
inertia 42 8 0 8 -257985 -1 -1 1 256;
#X obj 105 139 nbx 4 15 0.01 10 0 0 \$0-q \$0-q.in q 42 8 0 8 -257985
-1 -1 6.33 256;
#X obj 180 120 vradio 15 1 0 3 \$0-stage \$0-stage.in empty -8 -8 0
8 -257985 -1 -1 1;
#X obj 386 73 r \$0-stage;
#X obj 386 94 >= 1;
#X obj 386 115 swap 1;
#X obj 386 136 -;
#X obj 386 178 r \$0-stage;
#X obj 386 220 swap 1;
#X obj 386 241 -;
#X obj 386 199 >= 2;
#X obj 431 283 lop~ 50;
#X obj 470 96 swap 1000;
#X obj 470 117 /;
#X obj 470 75 r \$0-inertia;
#X obj 431 241 r \$0-drive;
#X obj 751 241 swap 1000;
#X obj 751 262 /;
#X obj 751 220 r \$0-inertia;
#X obj 712 201 r \$0-q;
#X obj 712 173 lop~ 50;
#X obj 751 131 swap 1000;
#X obj 751 152 /;
#X obj 751 110 r \$0-inertia;
#X obj 712 91 r \$0-mult;
#X obj 577 91 inlet~;
#X obj 431 262 sig~ 1;
#X obj 577 210 max~ 1;
#X obj 262 403 loadbang;
#X obj 262 424 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 262 445 f \$0;
#X obj 260 75 inlet~ fwd;
#X obj 317 104 s \$0-ctl;
#X obj 384 403 r \$0-ctl;
#X obj 384 424 list split 1;
#X obj 384 445 makefilename \$0-%s.in;
#X obj 384 466 t b s;
#X obj 384 487 list;
#X obj 384 508 s;
#X msg 262 466 \; \$1-mult.in 1 \; \$1-q.in 1 \; \$1-drive.in 1 \;
\$1-inertia.in 1 \; \$1-stage.in 2 \;;
#X connect 1 0 21 0;
#X connect 2 0 52 0;
#X connect 3 0 4 0;
#X connect 4 0 5 1;
#X connect 5 0 11 0;
#X connect 5 1 12 0;
#X connect 5 2 8 0;
#X connect 5 3 9 0;
#X connect 5 4 10 0;
#X connect 6 0 15 0;
#X connect 7 0 0 0;
#X connect 13 0 15 1;
#X connect 14 0 1 0;
#X connect 15 0 19 0;
#X connect 15 0 18 0;
#X connect 16 0 22 0;
#X connect 17 0 20 0;
#X connect 18 0 20 1;
#X connect 19 0 16 0;
#X connect 20 0 7 0;
#X connect 21 0 6 0;
#X connect 22 0 17 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 29 0 14 1;
#X connect 30 0 31 0;
#X connect 30 1 31 1;
#X connect 31 0 13 1;
#X connect 32 0 35 0;
#X connect 33 0 34 0;
#X connect 33 1 34 1;
#X connect 34 0 18 1;
#X connect 35 0 33 0;
#X connect 35 0 19 1;
#X connect 36 0 21 1;
#X connect 36 0 22 1;
#X connect 37 0 38 0;
#X connect 37 1 38 1;
#X connect 38 0 36 1;
#X connect 39 0 37 0;
#X connect 40 0 51 0;
#X connect 41 0 42 0;
#X connect 41 1 42 1;
#X connect 42 0 3 1;
#X connect 43 0 41 0;
#X connect 44 0 3 0;
#X connect 45 0 2 1;
#X connect 46 0 47 0;
#X connect 46 1 47 1;
#X connect 47 0 45 1;
#X connect 48 0 46 0;
#X connect 49 0 45 0;
#X connect 50 0 2 0;
#X connect 51 0 36 0;
#X connect 52 0 5 0;
#X connect 53 0 54 0;
#X connect 54 0 55 0;
#X connect 55 0 64 0;
#X connect 56 0 14 0;
#X connect 56 0 13 0;
#X connect 56 1 57 0;
#X connect 58 0 59 0;
#X connect 59 0 60 0;
#X connect 59 1 62 1;
#X connect 60 0 61 0;
#X connect 61 0 62 0;
#X connect 61 1 63 1;
#X connect 62 0 63 0;
#X coords 0 -1 1 1 100 100 1 100 100;
